@import '../../styles/variables';

$dot-size: 0.7rem;
$dot-color: $neutral-900;
$dot-gap: 0.25rem;
$bounce-duration: 0.6s;

.dots-loader {
	display: inline-flex;
	align-items: flex-end;
	gap: $dot-gap;

	.dot {
		width: $dot-size;
		height: $dot-size;
		background: $dot-color;
		border-radius: 50%;
		animation: bounce $bounce-duration ease-in-out infinite;
		transform-origin: center bottom;
		opacity: 0.85;

		/* Staggered delays for the "one-after-another" feel */
		&:nth-child(2) {
			animation-delay: calc($bounce-duration * 0.15);
		}
		&:nth-child(3) {
			animation-delay: calc($bounce-duration * 0.3);
		}
	}
}

@keyframes bounce {
	0%,
	80%,
	100% {
		transform: translateY(0) scale(1);
		opacity: 0.65;
	}
	40% {
		transform: translateY(-50%) scale(1.05); // slight pop for bounce
		opacity: 1;
	}
}

/* Respect reduced-motion preferences */
@media (prefers-reduced-motion: reduce) {
	.dots-loader .dot {
		animation: none;
	}
}

.app.dark .dots-loader .dot {
	background: $neutral-0;
}

/* Optional: visually-hidden helper if you don't have one */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 1px, 1px);
	white-space: nowrap;
	border: 0;
}
